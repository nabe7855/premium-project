body {
  font-family: "Poppins", sans-serif;
}
.font-lora {
  font-family: "Lora", serif;
}

/* ==============================
   ğŸ“ STRUCTURE
============================== */
.main-container {
  position: relative;
  min-height: 100vh;
  overflow: hidden;
}

.background-fade {
  position: absolute;
  inset: 0;
  background: black;
  z-index: 10;
  transition: opacity 1.5s ease-in-out;
  pointer-events: none;
}

.idle-scene {
  width: 100%;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  background-color: #f9f5f5;
  position: absolute;
  inset: 0;
  z-index: 5;
}

.idle-title {
  font-size: 28px;
  color: #333;
  margin-bottom: 24px;
}

.idle-box {
  background: #fff;
  padding: 30px;
  border-radius: 20px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  max-width: 600px;
  text-align: center;
}

.idle-subtitle {
  color: #cc3366;
  font-weight: bold;
}

.idle-desc {
  color: #666;
  margin: 10px 0 20px;
}

.start-button {
  background-color: #ff5b9e;
  color: white;
  font-weight: bold;
  padding: 12px 36px;
  border-radius: 9999px;
  border: none;
  cursor: pointer;
  transition: all 0.3s ease;
  animation: button-pulse 2s infinite;
}

.start-button:hover {
  background-color: #ff3c8d;
}

.idle-footer {
  color: #999;
  font-size: 12px;
  margin-top: 10px;
}

.whiteout {
  background: #fff;
  position: absolute;
  inset: 0;
  z-index: 50;
}

/* ==============================
   ğŸ“ ANIMATIONS
============================== */
@keyframes card-tumble-in-left {
  from {
    transform: translateZ(-800px) rotateX(180deg) rotateY(180deg) rotateZ(90deg);
    opacity: 0;
  }
  to {
    transform: translateX(-8rem) rotateZ(-12deg) rotateY(0deg);
    opacity: 1;
  }
}
@keyframes card-tumble-in-center {
  from {
    transform: translateZ(-800px) rotateX(180deg) rotateY(180deg);
    opacity: 0;
  }
  to {
    transform: scale(1) rotateY(0deg);
    opacity: 1;
  }
}
@keyframes card-tumble-in-right {
  from {
    transform: translateZ(-800px) rotateX(180deg) rotateY(180deg) rotateZ(-90deg);
    opacity: 0;
  }
  to {
    transform: translateX(8rem) rotateZ(12deg) rotateY(0deg);
    opacity: 1;
  }
}

@keyframes strawberry-fill-screen {
  0% {
    transform: translateY(100vh) rotate(-90deg);
    opacity: 0;
  }
  20% {
    opacity: 1;
  }
  100% {
    transform: translateY(0) rotate(360deg);
    opacity: 1;
  }
}

@keyframes strawberry-exit-up {
  to {
    transform: translateY(-110vh) rotate(360deg);
    opacity: 0;
  }
}

@keyframes symbol-glow {
  0%, 100% {
    text-shadow: 0 0 8px #fff, 0 0 15px #ff007f, 0 0 25px #ff007f;
    opacity: 1;
  }
  50% {
    text-shadow: 0 0 15px #fff, 0 0 25px #ff007f, 0 0 40px #ff007f;
    opacity: 0.9;
  }
}

@keyframes gradient-pan {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

@keyframes button-pulse {
  0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(236, 72, 153, 0.7); }
  70% { transform: scale(1.05); box-shadow: 0 0 0 10px rgba(236, 72, 153, 0); }
  100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(236, 72, 153, 0); }
}

@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* ğŸ“ Utility classes */
.animate-gradient-pan {
  background: linear-gradient(-45deg, #fff0f5, #ffe4e1, #fff5ee, #f0f8ff);
  background-size: 400% 400%;
  animation: gradient-pan 15s ease infinite;
}
.animate-strawberry-fill {
  position: absolute;
  transform: translateY(100vh);
  opacity: 0;
  animation: strawberry-fill-screen ease-out forwards;
}
.animate-strawberry-exit-up {
  position: absolute;
  animation: strawberry-exit-up 5s ease-in forwards;
}
.animate-fade-in { animation: fade-in 1s ease forwards; }
.strawberry-container {
  position: absolute;
  inset: 0;
  overflow: hidden;
  z-index: 20;
  pointer-events: none;
}

/* ==============================
   ğŸ’˜ CardCarousel
============================== */
.carousel-container {
  width: 100%;
  height: 100vh;
  background: transparent;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  position: relative;
}

.carousel-header {
  text-align: center;
  margin-bottom: 12px;
  z-index: 10;
}

.carousel-title {
  font-family: 'Lora', serif;
  font-size: 28px;
  color: #333;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.carousel-stage {
  position: relative;
  width: 100%;
  max-width: 900px;
  height: 70vh;
  display: flex;
  justify-content: center;
  align-items: center;
  perspective: 1200px;
}

.carousel-card {
  position: absolute;
  width: 320px;
  height: 460px;
  transform-style: preserve-3d;
}

.card-inner {
  position: relative;
  width: 100%;
  height: 100%;
  background: #fff;
  border-radius: 20px;
  border: 4px solid #fff;
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  transition: all 0.3s ease;
  padding: 16px;
}

.card-image {
  width: 100%;
  height: 250px;
  object-fit: cover;
  border-radius: 16px;
  margin-bottom: 12px;
}

.card-name {
  font-size: 22px;
  font-weight: bold;
  color: #333;
}

.card-desc {
  font-size: 14px;
  color: #777;
  margin-bottom: 8px;
  line-height: 1.4;
}

.card-match {
  margin-top: auto;
  width: 100%;
}

.match-label {
  font-size: 16px;
  color: #ff5b9e;
  font-weight: 600;
  margin-bottom: 4px;
}

.match-value {
  font-size: 60px;
  font-weight: bold;
  color: #ff004d;
}

.match-percent {
  font-size: 28px;
}

.carousel-nav {
  display: flex;
  gap: 48px;
  margin-top: 16px;
  position: relative;
  z-index: 20;
}

.nav-btn {
  background: #fff;
  border: none;
  border-radius: 50%;
  padding: 10px;
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
}
.nav-btn:hover {
  background-color: #ffe6f0;
  transform: scale(1.1);
}

.restart-wrap {
  margin-top: 32px;
  position: relative;
  z-index: 20;
}

.restart-btn {
  background-color: #ff5b9e;
  color: white;
  font-weight: bold;
  font-size: 16px;
  padding: 14px 36px;
  border-radius: 9999px;
  border: none;
  cursor: pointer;
  transition: all 0.3s ease;
  animation: button-pulse 2s infinite;
}

.restart-btn:hover {
  background-color: #ff3c8d;
}

/* ğŸƒ Floating particles */
.floating-container {
  position: absolute;
  inset: 0;
  overflow: hidden;
  pointer-events: none;
  z-index: 0;
}

/* ==============================
   ğŸƒ CardFallSceneï¼ˆãƒˆãƒ©ãƒ³ãƒ—æ¼”å‡ºï¼‰
============================== */

.cardfall-container {
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at 50% 50%, #000 0%, #111 80%);
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  perspective: 1200px;
  z-index: 40; /* â†ã“ã“ï¼30â†’40 ã«å¤‰æ›´ */
}


/* ã‚¹ãƒ†ãƒ¼ã‚¸ï¼ˆã‚«ãƒ¼ãƒ‰ã‚’åŒ…ã‚€ï¼‰ */
.cardfall-stage {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: flex-start;
}

/* ğŸ“ ã‚«ãƒ¼ãƒ‰æœ¬ä½“ */
.cardfall-card {
  position: absolute;
  top: -60%; /* â† ã“ã“ã§ã—ã£ã‹ã‚Šä¸Šã«éš ã™ï¼ */
  width: 200px;
  height: 280px;
  border-radius: 16px;
  background: linear-gradient(160deg, #222, #ff80b0 80%);
  border: 2px solid #ff99cc;
  box-shadow: 0 0 30px rgba(255, 100, 180, 0.6);
  display: flex;
  justify-content: center;
  align-items: center;
  animation: card-float-elegant 9s cubic-bezier(0.32, 1, 0.38, 1) forwards;
  opacity: 0;
}


/* ğŸ’« ã‚«ãƒ¼ãƒ‰ã”ã¨ã®é…ç½®ã¨é…å»¶ */
.cardfall-card:nth-child(1) {
  left: calc(50% - 260px);
  animation-delay: 0.3s;
}
.cardfall-card:nth-child(2) {
  left: 50%;
  animation-delay: 0.8s;
}
.cardfall-card:nth-child(3) {
  left: calc(50% + 260px);
  animation-delay: 1.3s;
}

/* ğŸ“ ã‚«ãƒ¼ãƒ‰ä¸­å¤®ã®ã‚·ãƒ³ãƒœãƒ« */
.card-symbol {
  font-size: 60px;
  text-shadow: 0 0 18px #ff66aa, 0 0 25px #ff007f;
  animation: soft-glow 3s ease-in-out infinite alternate;
}

/* ğŸ’ ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼šãµã‚ã£ã¨å›è»¢ã—ãªãŒã‚‰è½ä¸‹ */
@keyframes card-float-elegant {
  0% {
    transform: translateY(-400px)
      rotateX(15deg)
      rotateY(-20deg)
      rotateZ(0deg)
      scale(0.95);
    opacity: 0;
  }
  15% {
    opacity: 1;
  }
  40% {
    transform: translateY(40vh)
      rotateX(10deg)
      rotateY(10deg)
      rotateZ(5deg)
      scale(1.03);
  }
  70% {
    transform: translateY(85vh)
      rotateX(-10deg)
      rotateY(-5deg)
      rotateZ(-5deg)
      scale(1);
  }
  100% {
    transform: translateY(130vh)
      rotateX(20deg)
      rotateY(15deg)
      rotateZ(10deg)
      scale(0.98);
    opacity: 0;
  }
}

/* âœ¨ ã‚„ã‚ã‚‰ã‹ã„å…‰ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
@keyframes soft-glow {
  0% {
    opacity: 0.8;
    filter: drop-shadow(0 0 6px #ff99cc);
  }
  100% {
    opacity: 1;
    filter: drop-shadow(0 0 14px #ff007f);
  }
}

/* ğŸ’– ãƒãƒ¼ãƒˆèƒŒæ™¯ï¼ˆSparkleLayerï¼‰ */
.sparkle-layer {
  position: absolute;
  inset: 0;
  pointer-events: none;
  overflow: hidden;
  z-index: 0;
}

.sparkle-heart {
  position: absolute;
  font-family: sans-serif;
  user-select: none;
  animation: sparkle-magic 1.5s ease-in-out infinite;
  will-change: transform, opacity;
}

.sparkle-heart-pink {
  color: #ff007f;
  text-shadow: 0 0 5px #ff007f, 0 0 10px #ff007f;
}

.sparkle-heart-white {
  color: #ffffff;
  text-shadow: 0 0 5px #fff, 0 0 10px #fff;
}

@keyframes sparkle-magic {
  0%, 100% {
    transform: scale(0);
    opacity: 0;
  }
  50% {
    transform: scale(1);
    opacity: 1;
  }
}

/* ====================================
   ğŸ©· CardFall Debug Visible Style
   ï¼ˆã‚«ãƒ¼ãƒ‰ãŒç¢ºå®Ÿã«è¦‹ãˆã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼‰
==================================== */
.cardfall-container {
  z-index: 50 !important; /* ã„ã¡ã”ã‚„ãƒãƒ¼ãƒˆã‚ˆã‚Šæœ€å‰é¢ã« */
}

.cardfall-card {
  position: absolute;
  top: -15%;
  width: 200px;
  height: 280px;
  border-radius: 18px;
  background: linear-gradient(145deg, #222, #ff99cc);
  border: 2px solid #ff99cc;
  box-shadow: 0 0 25px rgba(255, 100, 180, 0.6);
  display: flex;
  justify-content: center;
  align-items: center;
  animation: card-float-elegant 10s cubic-bezier(0.32, 1, 0.38, 1) forwards;
  opacity: 1 !important; /* å¼·åˆ¶ã§è¦‹ãˆã‚‹ã‚ˆã†ã«ï¼ */
  transform-origin: center;
  z-index: 51;
}

/* ã‚«ãƒ¼ãƒ‰ã®ä¸­èº« */
.card-symbol {
  font-size: 70px;
  filter: drop-shadow(0 0 10px #ff80b0);
  animation: soft-glow 3s ease-in-out infinite alternate;
}

/* ğŸ©· å…‰ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã¤ãæ“¬ä¼¼è¦ç´  */
.cardfall-card::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 18px;
  background: rgba(255, 182, 193, 0.15);
  box-shadow: 0 0 25px rgba(255, 100, 180, 0.5) inset;
}
